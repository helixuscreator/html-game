<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>2D Jump & Run</title>
<style>
  body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
  canvas { background: #87CEEB; display: block; margin: 0 auto; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="400"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// Spieler
const player = {
  x: 50,
  y: 350,
  width: 30,
  height: 50,
  color: 'red',
  dy: 0,
  gravity: 0.8,
  jumpPower: -15,
  onGround: false
};

// Plattformen
const platforms = [
  {x: 0, y: 380, width: 800, height: 20},
  {x: 200, y: 300, width: 100, height: 20},
  {x: 400, y: 250, width: 150, height: 20},
  {x: 600, y: 200, width: 100, height: 20},
];

// Steuerung
let keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function gameLoop() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // Spielerbewegung
  if(keys['ArrowRight']) player.x += 5;
  if(keys['ArrowLeft']) player.x -= 5;
  if(keys[' '] && player.onGround) {
    player.dy = player.jumpPower;
    player.onGround = false;
  }
  
  // Schwerkraft
  player.dy += player.gravity;
  player.y += player.dy;
  
  // Kollision mit Plattformen
  player.onGround = false;
  for (let plat of platforms) {
    if(player.x < plat.x + plat.width &&
       player.x + player.width > plat.x &&
       player.y + player.height < plat.y + 10 &&
       player.y + player.height + player.dy > plat.y) {
      player.y = plat.y - player.height;
      player.dy = 0;
      player.onGround = true;
    }
  }
  
  // Bildschirmbegrenzung
  if(player.y + player.height > canvas.height) {
    player.y = canvas.height - player.height;
    player.dy = 0;
    player.onGround = true;
  }
  if(player.x < 0) player.x = 0;
  if(player.x + player.width > canvas.width) player.x = canvas.width - player.width;
  
  // Spieler zeichnen
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.width, player.height);
  
  // Plattformen zeichnen
  ctx.fillStyle = 'green';
  for (let plat of platforms) {
    ctx.fillRect(plat.x, plat.y, plat.width, plat.height);
  }
  
  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>

